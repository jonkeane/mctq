<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Find the shortest interval between two hours — shortest_interval • mctq</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Find the shortest interval between two hours — shortest_interval" />
<meta property="og:description" content="
shortest_interval() finds and return the shortest interval between two
hms or POSIXt objects hours. This is useful for time arithmetic, because
there's always two possible intervals between two hour values with no date
reference.
longer_interval() do the inverse of shortest_interval(), i.e
finds the longer interval between two hours. It's just a wrapper for
shortest_interval(x, y, class, inverse = TRUE)." />
<meta property="og:image" content="https://gipsousp.github.io/mctq/logo.png" />

<meta name="robots" content="noindex" />


<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CQHJT6E3K1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CQHJT6E3K1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mctq</a>
        <span class="version label label-warning" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/gipsousp/mctq/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Find the shortest interval between two hours</h1>
    <small class="dont-index">Source: <a href='https://github.com/gipsousp/mctq/blob/master/R/shortest_interval.R'><code>R/shortest_interval.R</code></a></small>
    <div class="hidden name"><code>shortest_interval.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href='https://www.tidyverse.org/lifecycle/#maturing'><img src='figures/lifecycle-maturing.svg' alt='Maturing lifecycle'></a></p>
<p><code>shortest_interval()</code> finds and return the shortest interval between two
<code>hms</code> or <code>POSIXt</code> objects hours. This is useful for time arithmetic, because
there's always two possible intervals between two hour values with no date
reference.</p>
<p><code>longer_interval()</code> do the inverse of <code>shortest_interval()</code>, <em>i.e</em>
finds the longer interval between two hours. It's just a wrapper for
<code>shortest_interval(x, y, class, inverse = TRUE)</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>shortest_interval</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, class <span class='op'>=</span> <span class='st'>"hms"</span>, inverse <span class='op'>=</span> <span class='cn'>FALSE</span>, quiet <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='fu'>longer_interval</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, class <span class='op'>=</span> <span class='st'>"hms"</span>, quiet <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x, y</th>
      <td><p>A <code>hms</code> or <code>POSIXt</code> object.</p></td>
    </tr>
    <tr>
      <th>class</th>
      <td><p>(optional) a string indicating the object class of the output
(default: <code>"hms"</code>).</p></td>
    </tr>
    <tr>
      <th>inverse</th>
      <td><p>(optional) a <code>logical</code> value indicating if the function must
return a inverse output, <em>i.e</em> the longer interval between <code>x</code> and <code>y</code>.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>(optional) a <code>logical</code> value indicating if warnings or messages
must be suppressed (default: <code>FALSE</code>).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A R object, of class indicated on <code>class</code>, with the shortest or
longer interval (if <code>inverse = TRUE</code> or <code>longer_interval()</code> is used)
between <code>x</code> and <code>y</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>The two intervals problem</h3>


<p>Given two hours, <code>x</code> and <code>y</code>, in a two day timeline, without date references,
there will be always two possible intervals between them, as illustrated
below.</p>
<p>To figure out what interval is the  shortest or the longer,
<code>shortest_interval()</code> checks two scenarios: 1. When <code>x</code> comes before <code>y</code>; and
2. when <code>x</code> comes after <code>y</code>. This only works if <code>x</code> value is smaller than
<code>y</code>, therefore, the function will make sure to swap <code>x</code> and <code>y</code> values if the
latter assumption is not true.</p>
<p>Because <code>shortest_interval()</code> objective is to find the shortest interval, if
<code>x</code> and <code>y</code> are equal, the shortest interval will have a length of 0 hours,
resulting in a interval from <code>x</code> to <code>x</code>. But, if <code>inverse = TRUE</code> or
<code>longer_interval()</code> is use instead, the latter condition will return a
interval with 24 hours of length (from <code>x</code> to <code>x</code> + 1 day).</p>
<p>In cases when <code>x</code> and <code>y</code> distance themselves by 12 hours, there will be no
shortest or longer interval (they are equal). In this cases,
<code>shortest_interval()</code> and <code>longer_interval()</code> will return the same value.</p><pre>             day 1                        day 2
     x                  y         x                  y
   06:00              22:00     06:00              22:00
-----|------------------|---------|------------------|-----&gt;
              16h           8h             16h
          longer int.   shorter int.    longer int.

              day 1                      day 2
     y                   x       y                   x
   13:00               08:00   13:00               08:00
-----|-------------------|-------|-------------------|-----&gt;
              19h           5h            19h
          longer int.   shorter int.   longer int.

    x,y             x,y             x,y             x,y
     x               y               x               y
   10:00           10:00           10:00           10:00
-----|---------------|---------------|---------------|-----&gt;
    0h              0h              0h              0h
            24h             24h             24h

              day 1                      day 2
     y               x               y               x
   12:00           00:00           12:00           00:00
-----|---------------|---------------|---------------|-----&gt;
            12h             12h             12h
</pre>


<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a><code>class</code> argument</h3>


<p><code>shortest_interval()</code> is integrated with <code><a href='convert.html'>convert()</a></code>. That way you
can choose what class of object your prefer as output.</p>
<p>Valid <code>class</code> values are: <code>"Duration"</code>, <code>"Period"</code>, <code>"difftime"</code>, <code>"hms"</code>,
and <code>"Interval"</code> (case insensitive).</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a><code>POSIXt</code> objects</h3>


<p><code>POSIXt</code> values passed as argument to <code>x</code> or <code>y</code> will be strip of their
dates. Only the hours will be considered.</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a><code>NA</code> values</h3>


<p><code>shortest_interval()</code> will return <code>NA</code> if <code>x</code> or <code>y</code> are <code>NA</code>.</p>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other utility functions: 
<code><a href='assign_date.html'>assign_date</a>()</code>,
<code><a href='convert.html'>convert</a>()</code>,
<code><a href='pretty_mctq.html'>pretty_mctq</a>()</code>,
<code><a href='qplot_walk.html'>qplot_walk</a>()</code>,
<code><a href='random_mctq.html'>random_mctq</a>()</code>,
<code><a href='raw_data.html'>raw_data</a>()</code>,
<code><a href='round_time.html'>round_time</a>()</code>,
<code><a href='sum_time.html'>sum_time</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## __ Scalar example __</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'>hms</span><span class='fu'>::</span><span class='fu'><a href='https://hms.tidyverse.org/reference/parse_hms.html'>parse_hm</a></span><span class='op'>(</span><span class='st'>"23:00"</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'>hms</span><span class='fu'>::</span><span class='fu'><a href='https://hms.tidyverse.org/reference/parse_hms.html'>parse_hm</a></span><span class='op'>(</span><span class='st'>"01:00"</span><span class='op'>)</span>
<span class='fu'>shortest_interval</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 02:00:00</div><div class='input'><span class='co'>#&gt; 02:00:00 # Expected</span>

<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'>lubridate</span><span class='fu'>::</span><span class='fu'><a href='http://lubridate.tidyverse.org/reference/as_date.html'>as_datetime</a></span><span class='op'>(</span><span class='st'>"1985-01-15 12:00:00"</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'>lubridate</span><span class='fu'>::</span><span class='fu'><a href='http://lubridate.tidyverse.org/reference/as_date.html'>as_datetime</a></span><span class='op'>(</span><span class='st'>"2020-09-10 12:00:00"</span><span class='op'>)</span>
<span class='fu'>shortest_interval</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 00:00:00</div><div class='input'><span class='co'>#&gt; 00:00:00 # Expected</span>

<span class='co'>## __ Vector example __</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'>hms</span><span class='fu'>::</span><span class='fu'><a href='https://hms.tidyverse.org/reference/parse_hms.html'>parse_hm</a></span><span class='op'>(</span><span class='st'>"15:30"</span><span class='op'>)</span>, <span class='fu'>hms</span><span class='fu'>::</span><span class='fu'><a href='https://hms.tidyverse.org/reference/parse_hms.html'>parse_hm</a></span><span class='op'>(</span><span class='st'>"21:30"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'>hms</span><span class='fu'>::</span><span class='fu'><a href='https://hms.tidyverse.org/reference/parse_hms.html'>parse_hm</a></span><span class='op'>(</span><span class='st'>"19:30"</span><span class='op'>)</span>, <span class='fu'>hms</span><span class='fu'>::</span><span class='fu'><a href='https://hms.tidyverse.org/reference/parse_hms.html'>parse_hm</a></span><span class='op'>(</span><span class='st'>"04:00"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>shortest_interval</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 04:00:00
#&gt; 06:30:00</div><div class='input'><span class='co'>#&gt; 04:00:00 # Expected</span>
<span class='co'>#&gt; 06:30:00 # Expected</span>

<span class='co'>## __ Finding the longer interval between two hours __</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'>lubridate</span><span class='fu'>::</span><span class='fu'><a href='http://lubridate.tidyverse.org/reference/parse_date_time.html'>parse_date_time</a></span><span class='op'>(</span><span class='st'>"01:10:00"</span>, <span class='st'>"HMS"</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'>lubridate</span><span class='fu'>::</span><span class='fu'><a href='http://lubridate.tidyverse.org/reference/parse_date_time.html'>parse_date_time</a></span><span class='op'>(</span><span class='st'>"11:45:00"</span>, <span class='st'>"HMS"</span><span class='op'>)</span>
<span class='fu'>shortest_interval</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, inverse <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 13:25:00</div><div class='input'><span class='co'>#&gt; 13:25:00 # Expected</span>

<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'>lubridate</span><span class='fu'>::</span><span class='fu'><a href='http://lubridate.tidyverse.org/reference/as_date.html'>as_datetime</a></span><span class='op'>(</span><span class='st'>"1915-02-14 05:00:00"</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'>lubridate</span><span class='fu'>::</span><span class='fu'><a href='http://lubridate.tidyverse.org/reference/as_date.html'>as_datetime</a></span><span class='op'>(</span><span class='st'>"1970-07-01 05:00:00"</span><span class='op'>)</span>
<span class='fu'>longer_interval</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 24:00:00</div><div class='input'><span class='co'>#&gt; 24:00:00 # Expected</span>

<span class='co'>## __ Changing the output object class __</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='op'>(</span><span class='st'>"1988-10-05 02:00:00"</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXlt</a></span><span class='op'>(</span><span class='st'>"2100-05-07 13:30:00"</span><span class='op'>)</span>
<span class='fu'>shortest_interval</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='st'>"Interval"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1970-01-01 02:00:00 UTC--1970-01-01 13:30:00 UTC</div><div class='input'><span class='co'>#&gt; [1] 1970-01-01 02:00:00 UTC--1970-01-01 13:30:00 UTC # Expected</span>
<span class='fu'>longer_interval</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='st'>"Duration"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "45000s (~12.5 hours)"</div><div class='input'><span class='co'>#&gt; [1] "45000s (~12.5 hours)" # Expected</span>
<span class='fu'>shortest_interval</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='st'>"Period"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "11H 30M 0S"</div><div class='input'><span class='co'>#&gt; [1] "11H 30M 0S" # Expected</span>
<span class='fu'>longer_interval</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='st'>"hms"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 12:30:00</div><div class='input'><span class='co'>#&gt; 12:30:00" # Expected</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/danielvartan'>Daniel Vartanian</a>, Ana Amelia Benedito-Silva, Mario Pedrazzoli, <a href='http://each.usp.br/gipso'>Interdisciplinary Sleep Research Group (GIPSO)</a>, <a href='http://usp.br'>University of Sao Paulo (USP)</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


